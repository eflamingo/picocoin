From: Joel DeJesus <dejesus.joel@e-flamingo.jp>
Date: Wed, 12 Apr 2017 07:44:31 +0900
Subject: adding library version info

---
 lib/Makefile.am    |   2 +
 lib/script_names.c | 260 ++++++++++++++++++++++++++---------------------------
 2 files changed, 132 insertions(+), 130 deletions(-)

diff --git a/lib/Makefile.am b/lib/Makefile.am
index 4ff8afe..7e125c7 100644
--- a/lib/Makefile.am
+++ b/lib/Makefile.am
@@ -42,6 +42,8 @@ libccoin_la_SOURCES=	\
 	util.c		\
 	utxo.c		\
 	wallet.c
+# current:revision:age
+libccoin_la_LDFLAGS = -module -shared  -version-info 0:2:1
 
 noinst_LTLIBRARIES= libccoinnet.la
 
diff --git a/lib/script_names.c b/lib/script_names.c
index 23d74d4..f4c46de 100644
--- a/lib/script_names.c
+++ b/lib/script_names.c
@@ -8,134 +8,134 @@
 #include <ccoin/util.h>
 
 static const char *opnames[256] = {
-	[OP_0] = "OP_0",
-	[OP_PUSHDATA1] = "OP_PUSHDATA1",
-	[OP_PUSHDATA2] = "OP_PUSHDATA2",
-	[OP_PUSHDATA4] = "OP_PUSHDATA4",
-	[OP_1NEGATE] = "OP_1NEGATE",
-	[OP_RESERVED] = "OP_RESERVED",
-	[OP_1] = "OP_1",
-	[OP_2] = "OP_2",
-	[OP_3] = "OP_3",
-	[OP_4] = "OP_4",
-	[OP_5] = "OP_5",
-	[OP_6] = "OP_6",
-	[OP_7] = "OP_7",
-	[OP_8] = "OP_8",
-	[OP_9] = "OP_9",
-	[OP_10] = "OP_10",
-	[OP_11] = "OP_11",
-	[OP_12] = "OP_12",
-	[OP_13] = "OP_13",
-	[OP_14] = "OP_14",
-	[OP_15] = "OP_15",
-	[OP_16] = "OP_16",
-
-	[OP_NOP] = "OP_NOP",
-	[OP_VER] = "OP_VER",
-	[OP_IF] = "OP_IF",
-	[OP_NOTIF] = "OP_NOTIF",
-	[OP_VERIF] = "OP_VERIF",
-	[OP_VERNOTIF] = "OP_VERNOTIF",
-	[OP_ELSE] = "OP_ELSE",
-	[OP_ENDIF] = "OP_ENDIF",
-	[OP_VERIFY] = "OP_VERIFY",
-	[OP_RETURN] = "OP_RETURN",
-
-	[OP_TOALTSTACK] = "OP_TOALTSTACK",
-	[OP_FROMALTSTACK] = "OP_FROMALTSTACK",
-	[OP_2DROP] = "OP_2DROP",
-	[OP_2DUP] = "OP_2DUP",
-	[OP_3DUP] = "OP_3DUP",
-	[OP_2OVER] = "OP_2OVER",
-	[OP_2ROT] = "OP_2ROT",
-	[OP_2SWAP] = "OP_2SWAP",
-	[OP_IFDUP] = "OP_IFDUP",
-	[OP_DEPTH] = "OP_DEPTH",
-	[OP_DROP] = "OP_DROP",
-	[OP_DUP] = "OP_DUP",
-	[OP_NIP] = "OP_NIP",
-	[OP_OVER] = "OP_OVER",
-	[OP_PICK] = "OP_PICK",
-	[OP_ROLL] = "OP_ROLL",
-	[OP_ROT] = "OP_ROT",
-	[OP_SWAP] = "OP_SWAP",
-	[OP_TUCK] = "OP_TUCK",
-
-	[OP_CAT] = "OP_CAT",
-	[OP_SUBSTR] = "OP_SUBSTR",
-	[OP_LEFT] = "OP_LEFT",
-	[OP_RIGHT] = "OP_RIGHT",
-	[OP_SIZE] = "OP_SIZE",
-
-	[OP_INVERT] = "OP_INVERT",
-	[OP_AND] = "OP_AND",
-	[OP_OR] = "OP_OR",
-	[OP_XOR] = "OP_XOR",
-	[OP_EQUAL] = "OP_EQUAL",
-	[OP_EQUALVERIFY] = "OP_EQUALVERIFY",
-	[OP_RESERVED1] = "OP_RESERVED1",
-	[OP_RESERVED2] = "OP_RESERVED2",
-
-	[OP_1ADD] = "OP_1ADD",
-	[OP_1SUB] = "OP_1SUB",
-	[OP_2MUL] = "OP_2MUL",
-	[OP_2DIV] = "OP_2DIV",
-	[OP_NEGATE] = "OP_NEGATE",
-	[OP_ABS] = "OP_ABS",
-	[OP_NOT] = "OP_NOT",
-	[OP_0NOTEQUAL] = "OP_0NOTEQUAL",
-
-	[OP_ADD] = "OP_ADD",
-	[OP_SUB] = "OP_SUB",
-	[OP_MUL] = "OP_MUL",
-	[OP_DIV] = "OP_DIV",
-	[OP_MOD] = "OP_MOD",
-	[OP_LSHIFT] = "OP_LSHIFT",
-	[OP_RSHIFT] = "OP_RSHIFT",
-
-	[OP_BOOLAND] = "OP_BOOLAND",
-	[OP_BOOLOR] = "OP_BOOLOR",
-	[OP_NUMEQUAL] = "OP_NUMEQUAL",
-	[OP_NUMEQUALVERIFY] = "OP_NUMEQUALVERIFY",
-	[OP_NUMNOTEQUAL] = "OP_NUMNOTEQUAL",
-	[OP_LESSTHAN] = "OP_LESSTHAN",
-	[OP_GREATERTHAN] = "OP_GREATERTHAN",
-	[OP_LESSTHANOREQUAL] = "OP_LESSTHANOREQUAL",
-	[OP_GREATERTHANOREQUAL] = "OP_GREATERTHANOREQUAL",
-	[OP_MIN] = "OP_MIN",
-	[OP_MAX] = "OP_MAX",
-
-	[OP_WITHIN] = "OP_WITHIN",
-
-	[OP_RIPEMD160] = "OP_RIPEMD160",
-	[OP_SHA1] = "OP_SHA1",
-	[OP_SHA256] = "OP_SHA256",
-	[OP_HASH160] = "OP_HASH160",
-	[OP_HASH256] = "OP_HASH256",
-	[OP_CODESEPARATOR] = "OP_CODESEPARATOR",
-	[OP_CHECKSIG] = "OP_CHECKSIG",
-	[OP_CHECKSIGVERIFY] = "OP_CHECKSIGVERIFY",
-	[OP_CHECKMULTISIG] = "OP_CHECKMULTISIG",
-	[OP_CHECKMULTISIGVERIFY] = "OP_CHECKMULTISIGVERIFY",
-
-	[OP_NOP1] = "OP_NOP1",
-	[OP_NOP2] = "OP_NOP2",
-	[OP_NOP3] = "OP_NOP3",
-	[OP_NOP4] = "OP_NOP4",
-	[OP_NOP5] = "OP_NOP5",
-	[OP_NOP6] = "OP_NOP6",
-	[OP_NOP7] = "OP_NOP7",
-	[OP_NOP8] = "OP_NOP8",
-	[OP_NOP9] = "OP_NOP9",
-	[OP_NOP10] = "OP_NOP10",
-
-
-
-	[OP_SMALLINTEGER] = "OP_SMALLINTEGER",
-	[OP_PUBKEYS] = "OP_PUBKEYS",
-	[OP_PUBKEYHASH] = "OP_PUBKEYHASH",
-	[OP_PUBKEY] = "OP_PUBKEY",
+	[ccoin_OP_0] = "ccoin_OP_0",
+	[ccoin_OP_PUSHDATA1] = "ccoin_OP_PUSHDATA1",
+	[ccoin_OP_PUSHDATA2] = "ccoin_OP_PUSHDATA2",
+	[ccoin_OP_PUSHDATA4] = "ccoin_OP_PUSHDATA4",
+	[ccoin_OP_1NEGATE] = "ccoin_OP_1NEGATE",
+	[ccoin_OP_RESERVED] = "ccoin_OP_RESERVED",
+	[ccoin_OP_1] = "ccoin_OP_1",
+	[ccoin_OP_2] = "ccoin_OP_2",
+	[ccoin_OP_3] = "ccoin_OP_3",
+	[ccoin_OP_4] = "ccoin_OP_4",
+	[ccoin_OP_5] = "ccoin_OP_5",
+	[ccoin_OP_6] = "ccoin_OP_6",
+	[ccoin_OP_7] = "ccoin_OP_7",
+	[ccoin_OP_8] = "ccoin_OP_8",
+	[ccoin_OP_9] = "ccoin_OP_9",
+	[ccoin_OP_10] = "ccoin_OP_10",
+	[ccoin_OP_11] = "ccoin_OP_11",
+	[ccoin_OP_12] = "ccoin_OP_12",
+	[ccoin_OP_13] = "ccoin_OP_13",
+	[ccoin_OP_14] = "ccoin_OP_14",
+	[ccoin_OP_15] = "ccoin_OP_15",
+	[ccoin_OP_16] = "ccoin_OP_16",
+
+	[ccoin_OP_NOP] = "ccoin_OP_NOP",
+	[ccoin_OP_VER] = "ccoin_OP_VER",
+	[ccoin_OP_IF] = "ccoin_OP_IF",
+	[ccoin_OP_NOTIF] = "ccoin_OP_NOTIF",
+	[ccoin_OP_VERIF] = "ccoin_OP_VERIF",
+	[ccoin_OP_VERNOTIF] = "ccoin_OP_VERNOTIF",
+	[ccoin_OP_ELSE] = "ccoin_OP_ELSE",
+	[ccoin_OP_ENDIF] = "ccoin_OP_ENDIF",
+	[ccoin_OP_VERIFY] = "ccoin_OP_VERIFY",
+	[ccoin_OP_RETURN] = "ccoin_OP_RETURN",
+
+	[ccoin_OP_TOALTSTACK] = "ccoin_OP_TOALTSTACK",
+	[ccoin_OP_FROMALTSTACK] = "ccoin_OP_FROMALTSTACK",
+	[ccoin_OP_2DROP] = "ccoin_OP_2DROP",
+	[ccoin_OP_2DUP] = "ccoin_OP_2DUP",
+	[ccoin_OP_3DUP] = "ccoin_OP_3DUP",
+	[ccoin_OP_2OVER] = "ccoin_OP_2OVER",
+	[ccoin_OP_2ROT] = "ccoin_OP_2ROT",
+	[ccoin_OP_2SWAP] = "ccoin_OP_2SWAP",
+	[ccoin_OP_IFDUP] = "ccoin_OP_IFDUP",
+	[ccoin_OP_DEPTH] = "ccoin_OP_DEPTH",
+	[ccoin_OP_DROP] = "ccoin_OP_DROP",
+	[ccoin_OP_DUP] = "ccoin_OP_DUP",
+	[ccoin_OP_NIP] = "ccoin_OP_NIP",
+	[ccoin_OP_OVER] = "ccoin_OP_OVER",
+	[ccoin_OP_PICK] = "ccoin_OP_PICK",
+	[ccoin_OP_ROLL] = "ccoin_OP_ROLL",
+	[ccoin_OP_ROT] = "ccoin_OP_ROT",
+	[ccoin_OP_SWAP] = "ccoin_OP_SWAP",
+	[ccoin_OP_TUCK] = "ccoin_OP_TUCK",
+
+	[ccoin_OP_CAT] = "ccoin_OP_CAT",
+	[ccoin_OP_SUBSTR] = "ccoin_OP_SUBSTR",
+	[ccoin_OP_LEFT] = "ccoin_OP_LEFT",
+	[ccoin_OP_RIGHT] = "ccoin_OP_RIGHT",
+	[ccoin_OP_SIZE] = "ccoin_OP_SIZE",
+
+	[ccoin_OP_INVERT] = "ccoin_OP_INVERT",
+	[ccoin_OP_AND] = "ccoin_OP_AND",
+	[ccoin_OP_OR] = "ccoin_OP_OR",
+	[ccoin_OP_XOR] = "ccoin_OP_XOR",
+	[ccoin_OP_EQUAL] = "ccoin_OP_EQUAL",
+	[ccoin_OP_EQUALVERIFY] = "ccoin_OP_EQUALVERIFY",
+	[ccoin_OP_RESERVED1] = "ccoin_OP_RESERVED1",
+	[ccoin_OP_RESERVED2] = "ccoin_OP_RESERVED2",
+
+	[ccoin_OP_1ADD] = "ccoin_OP_1ADD",
+	[ccoin_OP_1SUB] = "ccoin_OP_1SUB",
+	[ccoin_OP_2MUL] = "ccoin_OP_2MUL",
+	[ccoin_OP_2DIV] = "ccoin_OP_2DIV",
+	[ccoin_OP_NEGATE] = "ccoin_OP_NEGATE",
+	[ccoin_OP_ABS] = "ccoin_OP_ABS",
+	[ccoin_OP_NOT] = "ccoin_OP_NOT",
+	[ccoin_OP_0NOTEQUAL] = "ccoin_OP_0NOTEQUAL",
+
+	[ccoin_OP_ADD] = "ccoin_OP_ADD",
+	[ccoin_OP_SUB] = "ccoin_OP_SUB",
+	[ccoin_OP_MUL] = "ccoin_OP_MUL",
+	[ccoin_OP_DIV] = "ccoin_OP_DIV",
+	[ccoin_OP_MOD] = "ccoin_OP_MOD",
+	[ccoin_OP_LSHIFT] = "ccoin_OP_LSHIFT",
+	[ccoin_OP_RSHIFT] = "ccoin_OP_RSHIFT",
+
+	[ccoin_OP_BOOLAND] = "ccoin_OP_BOOLAND",
+	[ccoin_OP_BOOLOR] = "ccoin_OP_BOOLOR",
+	[ccoin_OP_NUMEQUAL] = "ccoin_OP_NUMEQUAL",
+	[ccoin_OP_NUMEQUALVERIFY] = "ccoin_OP_NUMEQUALVERIFY",
+	[ccoin_OP_NUMNOTEQUAL] = "ccoin_OP_NUMNOTEQUAL",
+	[ccoin_OP_LESSTHAN] = "ccoin_OP_LESSTHAN",
+	[ccoin_OP_GREATERTHAN] = "ccoin_OP_GREATERTHAN",
+	[ccoin_OP_LESSTHANOREQUAL] = "ccoin_OP_LESSTHANOREQUAL",
+	[ccoin_OP_GREATERTHANOREQUAL] = "ccoin_OP_GREATERTHANOREQUAL",
+	[ccoin_OP_MIN] = "ccoin_OP_MIN",
+	[ccoin_OP_MAX] = "ccoin_OP_MAX",
+
+	[ccoin_OP_WITHIN] = "ccoin_OP_WITHIN",
+
+	[ccoin_OP_RIPEMD160] = "ccoin_OP_RIPEMD160",
+	[ccoin_OP_SHA1] = "ccoin_OP_SHA1",
+	[ccoin_OP_SHA256] = "ccoin_OP_SHA256",
+	[ccoin_OP_HASH160] = "ccoin_OP_HASH160",
+	[ccoin_OP_HASH256] = "ccoin_OP_HASH256",
+	[ccoin_OP_CODESEPARATOR] = "ccoin_OP_CODESEPARATOR",
+	[ccoin_OP_CHECKSIG] = "ccoin_OP_CHECKSIG",
+	[ccoin_OP_CHECKSIGVERIFY] = "ccoin_OP_CHECKSIGVERIFY",
+	[ccoin_OP_CHECKMULTISIG] = "ccoin_OP_CHECKMULTISIG",
+	[ccoin_OP_CHECKMULTISIGVERIFY] = "ccoin_OP_CHECKMULTISIGVERIFY",
+
+	[ccoin_OP_NOP1] = "ccoin_OP_NOP1",
+	[ccoin_OP_NOP2] = "ccoin_OP_NOP2",
+	[ccoin_OP_NOP3] = "ccoin_OP_NOP3",
+	[ccoin_OP_NOP4] = "ccoin_OP_NOP4",
+	[ccoin_OP_NOP5] = "ccoin_OP_NOP5",
+	[ccoin_OP_NOP6] = "ccoin_OP_NOP6",
+	[ccoin_OP_NOP7] = "ccoin_OP_NOP7",
+	[ccoin_OP_NOP8] = "ccoin_OP_NOP8",
+	[ccoin_OP_NOP9] = "ccoin_OP_NOP9",
+	[ccoin_OP_NOP10] = "ccoin_OP_NOP10",
+
+
+
+	[ccoin_OP_SMALLINTEGER] = "ccoin_OP_SMALLINTEGER",
+	[ccoin_OP_PUBKEYS] = "ccoin_OP_PUBKEYS",
+	[ccoin_OP_PUBKEYHASH] = "ccoin_OP_PUBKEYHASH",
+	[ccoin_OP_PUBKEY] = "ccoin_OP_PUBKEY",
 };
 
 const char *GetOpName(enum opcodetype opcode_)
@@ -161,13 +161,13 @@ enum opcodetype GetOpType(const char *opname)
 			if (!strcmp(opname, opnames[i]))
 				return (enum opcodetype) i;
 
-			strcpy(tmpname, "OP_");
+			strcpy(tmpname, "ccoin_OP_");
 			strcat(tmpname, opname);
 			if (!strcmp(tmpname, opnames[i]))
 				return (enum opcodetype) i;
 		}
 	}
 
-	return OP_INVALIDOPCODE;
+	return ccoin_OP_INVALIDOPCODE;
 }
 
